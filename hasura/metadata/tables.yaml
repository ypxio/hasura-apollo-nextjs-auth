- table:
    schema: public
    name: auth
  object_relationships:
    - name: user
      using:
        foreign_key_constraint_on: user_id
  insert_permissions:
    - role: user
      permission:
        check: {}
        columns:
          - password
          - user_id
          - username
  select_permissions:
    - role: user
      permission:
        columns:
          - username
        filter: {}
  update_permissions:
    - role: user
      permission:
        columns:
          - password
          - username
        filter:
          user_id:
            _eq: X-Hasura-User-Id
        check: null
- table:
    schema: public
    name: category
  array_relationships:
    - name: dispositions
      using:
        foreign_key_constraint_on:
          column: received_as_category_id
          table:
            schema: public
            name: disposition
    - name: documents
      using:
        foreign_key_constraint_on:
          column: category_id
          table:
            schema: public
            name: document
    - name: documents_alt
      using:
        foreign_key_constraint_on:
          column: category_alt_id
          table:
            schema: public
            name: document
  select_permissions:
    - role: user
      permission:
        columns:
          - code
          - created_at
          - deleted_at
          - description
          - id
          - name
          - number_format
          - type
        filter: {}
        allow_aggregations: true
- table:
    schema: public
    name: disposition
  object_relationships:
    - name: category_receive_as
      using:
        foreign_key_constraint_on: received_as_category_id
    - name: document
      using:
        foreign_key_constraint_on: document_id
    - name: organization_creator
      using:
        foreign_key_constraint_on: creator_org_id
    - name: organization_receiver
      using:
        foreign_key_constraint_on: receiver_org_id
    - name: previous
      using:
        foreign_key_constraint_on: prev_id
    - name: ref_note
      using:
        foreign_key_constraint_on: ref_note_id
    - name: user_creator
      using:
        foreign_key_constraint_on: creator_user_id
    - name: user_receiver
      using:
        foreign_key_constraint_on: receiver_user_id
  array_relationships:
    - name: after
      using:
        foreign_key_constraint_on:
          column: prev_id
          table:
            schema: public
            name: disposition
  insert_permissions:
    - role: user
      permission:
        check: {}
        set:
          creator_user_id: x-hasura-User-Id
        columns:
          - approved_at
          - creator_org_id
          - document_id
          - id
          - note
          - notes
          - prev_id
          - received_at
          - receiver_org_id
          - receiver_user_id
          - ref_note_id
          - rejected_at
          - text
  select_permissions:
    - role: user
      permission:
        columns:
          - agenda_number
          - approved_at
          - created_at
          - creator_org_id
          - creator_user_id
          - document_id
          - id
          - note
          - notes
          - prev_id
          - received_as_category_id
          - received_as_order_number
          - received_at
          - receiver_org_id
          - receiver_user_id
          - rejected_at
          - text
        filter:
          _and:
            - document:
                deleted_at:
                  _is_null: true
        allow_aggregations: true
  update_permissions:
    - role: user
      permission:
        columns:
          - agenda_number
          - approved_at
          - received_as_category_id
          - received_as_order_number
          - received_at
          - receiver_org_id
          - receiver_user_id
          - rejected_at
        filter: {}
        check: null
- table:
    schema: public
    name: document
  object_relationships:
    - name: category
      using:
        foreign_key_constraint_on: category_id
    - name: category_alt
      using:
        foreign_key_constraint_on: category_alt_id
    - name: creator
      using:
        foreign_key_constraint_on: created_by
    - name: from_organization
      using:
        foreign_key_constraint_on: from_org_id
  array_relationships:
    - name: dispositions
      using:
        foreign_key_constraint_on:
          column: document_id
          table:
            schema: public
            name: disposition
    - name: files
      using:
        foreign_key_constraint_on:
          column: document_id
          table:
            schema: public
            name: file
  insert_permissions:
    - role: user
      permission:
        check: {}
        set:
          created_by: x-hasura-User-Id
        columns:
          - approved_at
          - category_alt_id
          - category_id
          - classification_type
          - date
          - deleted_at
          - delivery_type
          - description
          - finished_at
          - from
          - from_org_id
          - id
          - is_draft
          - number
          - number_json
          - received_date
          - share_json
          - to
          - type
  select_permissions:
    - role: user
      permission:
        columns:
          - approved_at
          - category_alt_id
          - category_id
          - classification_type
          - created_at
          - created_by
          - date
          - deleted_at
          - delivery_type
          - description
          - finished_at
          - from
          - from_org_id
          - id
          - is_draft
          - number
          - number_json
          - received_date
          - share_json
          - to
          - type
          - updated_at
        filter:
          _and:
            - deleted_at:
                _is_null: true
        allow_aggregations: true
  update_permissions:
    - role: user
      permission:
        columns:
          - approved_at
          - category_alt_id
          - category_id
          - classification_type
          - date
          - deleted_at
          - delivery_type
          - description
          - finished_at
          - from
          - from_org_id
          - is_draft
          - number
          - number_json
          - received_date
          - share_json
          - to
          - updated_at
        filter: {}
        check: {}
        set:
          created_by: x-hasura-User-Id
- table:
    schema: public
    name: file
  object_relationships:
    - name: document
      using:
        foreign_key_constraint_on: document_id
  insert_permissions:
    - role: user
      permission:
        check: {}
        columns:
          - created_at
          - document_id
          - id
          - name
          - path
          - size
          - uid
  select_permissions:
    - role: user
      permission:
        columns:
          - created_at
          - document_id
          - id
          - name
          - path
          - size
          - uid
        filter: {}
        allow_aggregations: true
- table:
    schema: public
    name: note
  array_relationships:
    - name: dispositions
      using:
        foreign_key_constraint_on:
          column: ref_note_id
          table:
            schema: public
            name: disposition
  select_permissions:
    - role: user
      permission:
        columns:
          - id
          - text
        filter:
          _and:
            - is_visible:
                _eq: true
- table:
    schema: public
    name: organization
  object_relationships:
    - name: parent
      using:
        foreign_key_constraint_on: parent_id
  array_relationships:
    - name: children
      using:
        foreign_key_constraint_on:
          column: parent_id
          table:
            schema: public
            name: organization
    - name: created_dispositions
      using:
        foreign_key_constraint_on:
          column: creator_org_id
          table:
            schema: public
            name: disposition
    - name: documents_from
      using:
        foreign_key_constraint_on:
          column: from_org_id
          table:
            schema: public
            name: document
    - name: organization_parent_proxies
      using:
        foreign_key_constraint_on:
          column: parent_id
          table:
            schema: public
            name: organization_proxy
    - name: organization_proxies
      using:
        foreign_key_constraint_on:
          column: organization_id
          table:
            schema: public
            name: organization_proxy
    - name: organization_user
      using:
        foreign_key_constraint_on:
          column: organization_id
          table:
            schema: public
            name: organization_user
    - name: received_dispositions
      using:
        foreign_key_constraint_on:
          column: receiver_org_id
          table:
            schema: public
            name: disposition
  select_permissions:
    - role: user
      permission:
        columns:
          - created_at
          - deleted_at
          - flag
          - id
          - name
          - parent_id
          - type
          - updated_at
        filter: {}
        allow_aggregations: true
- table:
    schema: public
    name: organization_proxy
  object_relationships:
    - name: organization
      using:
        foreign_key_constraint_on: organization_id
    - name: parent
      using:
        foreign_key_constraint_on: parent_id
  select_permissions:
    - role: user
      permission:
        columns:
          - id
          - organization_id
          - parent_id
        filter: {}
- table:
    schema: public
    name: organization_user
  object_relationships:
    - name: organization
      using:
        foreign_key_constraint_on: organization_id
    - name: user
      using:
        foreign_key_constraint_on: user_id
  insert_permissions:
    - role: user
      permission:
        check: {}
        columns:
          - organization_id
  select_permissions:
    - role: user
      permission:
        columns:
          - organization_id
          - user_id
        filter: {}
  delete_permissions:
    - role: user
      permission:
        backend_only: false
        filter: {}
- table:
    schema: public
    name: role
  array_relationships:
    - name: users
      using:
        foreign_key_constraint_on:
          column: role_id
          table:
            schema: public
            name: user
  insert_permissions:
    - role: user
      permission:
        check: {}
        columns:
          - config_json
          - name
          - permissions_json
  select_permissions:
    - role: user
      permission:
        columns:
          - config_json
          - name
          - permissions_json
        filter: {}
        allow_aggregations: true
  update_permissions:
    - role: user
      permission:
        columns:
          - config_json
          - name
          - permissions_json
        filter: {}
        check: null
- table:
    schema: public
    name: user
  object_relationships:
    - name: auth
      using:
        manual_configuration:
          remote_table:
            schema: public
            name: auth
          insertion_order: null
          column_mapping:
            id: user_id
    - name: role
      using:
        foreign_key_constraint_on: role_id
  array_relationships:
    - name: created_dispositions
      using:
        foreign_key_constraint_on:
          column: creator_user_id
          table:
            schema: public
            name: disposition
    - name: documents
      using:
        foreign_key_constraint_on:
          column: created_by
          table:
            schema: public
            name: document
    - name: organization_user
      using:
        foreign_key_constraint_on:
          column: user_id
          table:
            schema: public
            name: organization_user
    - name: received_dispositions
      using:
        foreign_key_constraint_on:
          column: receiver_user_id
          table:
            schema: public
            name: disposition
  insert_permissions:
    - role: user
      permission:
        check: {}
        set:
          created_by: x-hasura-User-Id
          updated_by: x-hasura-User-Id
        columns:
          - deleted_at
          - id
          - level
          - name
          - status
  select_permissions:
    - role: user
      permission:
        columns:
          - created_at
          - created_by
          - deleted_at
          - id
          - is_admin
          - level
          - name
          - role_id
          - status
          - updated_at
          - updated_by
        filter: {}
        allow_aggregations: true
  update_permissions:
    - role: user
      permission:
        columns:
          - deleted_at
          - level
          - name
        filter: {}
        check: null
